{"ast":null,"code":"var _jsxFileName = \"/Users/brianlai/Desktop/web-dev-projects/wault/client/src/components/Dashboard.js\";\nimport React, { Component } from \"react\";\nimport SpotifyWebApi from 'spotify-web-api-js';\nimport { ValidatorForm, TextValidator } from 'react-material-ui-form-validator';\nimport { withStyles, ThemeProvider, createMuiTheme } from '@material-ui/core/styles';\nimport { green, purple, blue } from '@material-ui/core/colors';\nimport clsx from 'clsx';\nimport { Button, Avatar, Drawer, Divider } from \"@material-ui/core\";\nimport axios from \"axios\";\nimport Home from './Home';\nimport background from \"../media/Endless-Constellation.svg\";\nimport SearchBar from './SearchBar';\nconst drawerWidth = '400px';\n\nconst styles = theme => ({\n  root: {\n    backgroundImage: `url(${background})`,\n    height: '100vh'\n  },\n  title: {\n    flexGrow: 1\n  },\n  hide: {\n    display: 'none'\n  },\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0\n  },\n  drawerPaper: {\n    width: drawerWidth,\n    backgroundColor: 'white'\n  },\n  drawerHeader: {\n    display: 'flex',\n    alignItems: 'center',\n    padding: theme.spacing(0, 1),\n    // necessary for content to be below app bar\n    ...theme.mixins.toolbar,\n    justifyContent: 'flex-start'\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3),\n    transition: theme.transitions.create('margin', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen\n    }),\n    marginRight: -drawerWidth,\n    display: 'flex',\n    justifyContent: 'flex-start'\n  },\n  contentShift: {\n    transition: theme.transitions.create('margin', {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen\n    }),\n    marginRight: drawerWidth\n  }\n});\n\nclass Dashboard extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      roomNameInput: '',\n      rooms: []\n    };\n    this.createRoom = this.createRoom.bind(this);\n    this.getRooms = this.getRooms.bind(this);\n    this.handleChange = this.handleChange.bind(this); // this.playSong = this.playSong.bind(this);\n  }\n\n  async componentWillReceiveProps(nextProps) {\n    if (this.props.user !== nextProps.user) {\n      await axios.get('/api/get/myRooms', {\n        params: {\n          rownerid: parseInt(nextProps.user.id)\n        }\n      }).then(res => {\n        this.setState({\n          rooms: res.data\n        });\n      }).catch(err => console.log(err));\n    }\n  }\n\n  componentDidMount() {\n    ValidatorForm.addValidationRule('isRoomUnique', value => //for every color saved, check if its name is equal to the text value\n    this.state.rooms.every(({\n      rname\n    }) => {\n      return rname.toLowerCase() !== value.toLowerCase();\n    }));\n  }\n\n  createRoom() {\n    const data = {\n      rname: this.state.roomNameInput,\n      rownerid: parseInt(this.props.user.id)\n    };\n    console.log(data);\n    axios.post('/api/post/newRoom', data).then(res => {\n      console.log(res);\n      this.getRooms();\n    }).catch(err => console.log(err));\n  }\n\n  getRooms() {\n    axios.get('/api/get/myRooms', {\n      params: {\n        rownerid: parseInt(this.props.user.id)\n      }\n    }).then(res => {\n      this.setState({\n        rooms: res.data\n      });\n    }).catch(err => console.log(err));\n  }\n\n  handleChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  render() {\n    const {\n      classes,\n      open,\n      user\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.root,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Drawer, {\n      className: classes.drawer,\n      variant: \"persistent\",\n      anchor: \"right\",\n      open: open,\n      classes: {\n        paper: classes.drawerPaper\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.drawerHeader,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 7\n      }\n    }, \"You are signed in as \", user.display_name, \". \"), /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      href: \"http://localhost:8888/login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 7\n      }\n    }, \"Sign Out\")), /*#__PURE__*/React.createElement(Divider, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 6\n      }\n    }), /*#__PURE__*/React.createElement(ValidatorForm, {\n      onSubmit: this.createRoom,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(TextValidator, {\n      placeholder: \"Enter Room Name\",\n      name: \"roomNameInput\",\n      value: this.state.roomNameInput,\n      onChange: this.handleChange,\n      validators: ['required', 'isRoomUnique'],\n      errorMessages: ['This field is required', 'Room name is already taken'],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 7\n      }\n    }, \"Create Room\")), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 6\n      }\n    }, this.state.rooms.map(room => /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 37\n      }\n    }, room.rname)))), /*#__PURE__*/React.createElement(\"main\", {\n      className: clsx(classes.content, {\n        [classes.contentShift]: open\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(SearchBar, {\n      updateLikes: this.updateLikes,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(Home, {\n      user: this.props.user,\n      playbackState: this.props.playbackState,\n      playSong: this.props.playSong,\n      pauseSong: this.props.pauseSong,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 7\n      }\n    }))));\n  }\n\n}\n\nexport default withStyles(styles)(Dashboard);","map":{"version":3,"sources":["/Users/brianlai/Desktop/web-dev-projects/wault/client/src/components/Dashboard.js"],"names":["React","Component","SpotifyWebApi","ValidatorForm","TextValidator","withStyles","ThemeProvider","createMuiTheme","green","purple","blue","clsx","Button","Avatar","Drawer","Divider","axios","Home","SearchBar","drawerWidth","styles","theme","root","backgroundImage","background","height","title","flexGrow","hide","display","drawer","width","flexShrink","drawerPaper","backgroundColor","drawerHeader","alignItems","padding","spacing","mixins","toolbar","justifyContent","content","transition","transitions","create","easing","sharp","duration","leavingScreen","marginRight","contentShift","easeOut","enteringScreen","Dashboard","constructor","props","state","roomNameInput","rooms","createRoom","bind","getRooms","handleChange","componentWillReceiveProps","nextProps","user","get","params","rownerid","parseInt","id","then","res","setState","data","catch","err","console","log","componentDidMount","addValidationRule","value","every","rname","toLowerCase","post","e","target","name","render","classes","open","paper","display_name","map","room","updateLikes","playbackState","playSong","pauseSong"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport SpotifyWebApi from 'spotify-web-api-js';\nimport {ValidatorForm, TextValidator} from 'react-material-ui-form-validator';\nimport {withStyles, ThemeProvider, createMuiTheme} from '@material-ui/core/styles';\nimport { green, purple, blue } from '@material-ui/core/colors';\nimport clsx from 'clsx';\nimport { Button, Avatar, Drawer, Divider } from \"@material-ui/core\";\nimport axios from \"axios\";\nimport Home from './Home'\nimport background from '../media/Endless-Constellation.svg';\nimport SearchBar from './SearchBar';\n\nconst drawerWidth = '400px'\nconst styles = (theme) => ({\n\troot: {\n\t\tbackgroundImage: `url(${background})`,\n\t\theight: '100vh'\n\t},\n\ttitle: {\n\t\tflexGrow: 1,\n\t},\n\thide: {\n\t\tdisplay: 'none',\n\t},\n\tdrawer: {\n\t\twidth: drawerWidth,\n\t\tflexShrink: 0,\n\t},\n\tdrawerPaper: {\n\t\twidth: drawerWidth,\n\t\tbackgroundColor: 'white'\n\t},\n\tdrawerHeader: {\n\t\tdisplay: 'flex',\n\t\talignItems: 'center',\n\t\tpadding: theme.spacing(0, 1),\n\t\t// necessary for content to be below app bar\n\t\t...theme.mixins.toolbar,\n\t\tjustifyContent: 'flex-start',\n\t},\n\tcontent: {\n\t\tflexGrow: 1,\n\t\tpadding: theme.spacing(3),\n\t\ttransition: theme.transitions.create('margin', {\n\t\t\teasing: theme.transitions.easing.sharp,\n\t\t\tduration: theme.transitions.duration.leavingScreen,\n\t\t}),\n\t\tmarginRight: -drawerWidth,\n\t\tdisplay: 'flex',\n\t\tjustifyContent: 'flex-start'\n\t},\n\tcontentShift: {\n\t\ttransition: theme.transitions.create('margin', {\n\t\t\teasing: theme.transitions.easing.easeOut,\n\t\t\tduration: theme.transitions.duration.enteringScreen,\n\t\t}),\n\t\tmarginRight: drawerWidth,\n\t},\n});\n\nclass Dashboard extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state={\n\t\t\troomNameInput: '',\n\t\t\trooms: []\n\t\t}\n\t\tthis.createRoom = this.createRoom.bind(this);\n\t\tthis.getRooms = this.getRooms.bind(this);\n\t\tthis.handleChange = this.handleChange.bind(this);\n\t\t// this.playSong = this.playSong.bind(this);\n\t}\n\n\tasync componentWillReceiveProps(nextProps) {\n        if (this.props.user !== nextProps.user) {\n\t\t\tawait axios.get('/api/get/myRooms', {params: {rownerid: parseInt(nextProps.user.id)}})\n\t\t\t\t.then(res => {\n\t\t\t\t\tthis.setState({rooms: res.data})\n\t\t\t\t})\n\t\t\t\t.catch(err => console.log(err))\n        }\n    }\n\n\tcomponentDidMount() {\n\t\tValidatorForm.addValidationRule('isRoomUnique', (value) => \n            //for every color saved, check if its name is equal to the text value\n            this.state.rooms.every(\n                ({rname}) => {\n\t\t\t\t\treturn rname.toLowerCase() !== value.toLowerCase()\n\t\t\t\t}\n            )\n        );\n\t}\n\n\tcreateRoom() {\n\t\tconst data = {\n\t\t\trname: this.state.roomNameInput,\n\t\t\trownerid: parseInt(this.props.user.id)\n\t\t}\n\t\tconsole.log(data)\n\t\taxios.post('/api/post/newRoom', data)\n\t\t\t.then(res => {\n\t\t\t\tconsole.log(res)\n\t\t\t\tthis.getRooms();\n\t\t\t})\n\t\t\t.catch(err => console.log(err))\n\t}\n\n\tgetRooms() {\n\t\taxios.get('/api/get/myRooms', {params: {rownerid: parseInt(this.props.user.id)}})\n\t\t\t.then(res => {\n\t\t\t\tthis.setState({rooms: res.data});\n\t\t\t})\n\t\t\t.catch(err => console.log(err))\n\t}\n\n\thandleChange(e) {\n        this.setState({\n            [e.target.name]: e.target.value\n        })\n    }\n\n    render() {\n        const {classes, open, user} = this.props;\n        return (\n            <div className={classes.root}>\n                <Drawer\n                    className={classes.drawer}\n                    variant=\"persistent\"\n                    anchor=\"right\"\n                    open={open}\n                    classes={{\n                        paper: classes.drawerPaper,\n                    }}\n            \t>\n\t\t\t\t\t<div className={classes.drawerHeader}>\n\t\t\t\t\t\t<div>You are signed in as {user.display_name}. </div>\n\t\t\t\t\t\t<Button variant='contained' href='http://localhost:8888/login'>Sign Out</Button>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<Divider />\n\n\t\t\t\t\t<ValidatorForm onSubmit={this.createRoom}>\n\t\t\t\t\t\t<TextValidator\n\t\t\t\t\t\t\tplaceholder='Enter Room Name'\n\t\t\t\t\t\t\tname='roomNameInput'\n\t\t\t\t\t\t\tvalue={this.state.roomNameInput}\n\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t\tvalidators={['required', 'isRoomUnique']}\n\t\t\t\t\t\t\terrorMessages={['This field is required', 'Room name is already taken']}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant='contained' \n\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tCreate Room\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</ValidatorForm>\n\n\t\t\t\t\t<div>\n\t\t\t\t\t\t{this.state.rooms.map(room => <div>{room.rname}</div>)}\n\t\t\t\t\t</div>\n                </Drawer>\n\n                <main className={clsx(classes.content, {\n                    [classes.contentShift]: open,\n                })}>\n                    <div>\n                        {/* stuff outside drawer */}\n\t\t\t\t\t\t<SearchBar updateLikes={this.updateLikes}/>\n\t\t\t\t\t\t<Home \n\t\t\t\t\t\t\tuser={this.props.user} \n\t\t\t\t\t\t\tplaybackState={this.props.playbackState} \n\t\t\t\t\t\t\tplaySong={this.props.playSong} \n                        \tpauseSong={this.props.pauseSong}\n\t\t\t\t\t\t/>\n                    </div>\n                </main>\n                        \n            </div>\n        )\n    }\n}\n\nexport default withStyles(styles)(Dashboard);"]},"metadata":{},"sourceType":"module"}